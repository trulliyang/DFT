typedef struct{
    float real;
    float image;
}complex;

void shiyanggetImgSrc();
void shiyangfft2d();
void shiyangcvdft2d();

complex Add(complex, complex);
complex Sub(complex, complex);
complex Mul(complex, complex);
int calculate_M(int);
void reverse(int,int);
void readData();
void fft(int,int);
void Ifft();
void printResult_fft();
void printResult_Ifft();

#if 0
// 16x16, 0~255 img do fft2d results
32640.000000+0.000000i
-128.000000+643.499512i
-128.000000+309.019348i
-127.999992+191.565552i
-128.000000+128.000000i
-128.000000+85.526871i
-128.000000+53.019348i
-128.000031+25.460785i
-128.000000+0.000000i
-128.000000-25.460815i
-128.000000-53.019333i
-128.000000-85.526855i
-128.000000-128.000000i
-128.000000-191.565536i
-127.999992-309.019348i
-127.999962-643.499512i

-2048.000000+10295.992188i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i

-2048.000000+4944.309570i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i

-2047.999878+3065.048828i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i

-2048.000000+2048.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i

-2048.000000+1368.429932i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i

-2048.000000+848.309570i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i

-2048.000488+407.372559i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i

-2048.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i

-2048.000000-407.373047i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i

-2048.000000-848.309326i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i

-2048.000000-1368.429688i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i

-2048.000000-2048.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i

-2048.000000-3065.048584i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i

-2047.999878-4944.309570i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i

-2047.999390-10295.992188i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i
0.000000+0.000000i

#endif

#if 0
// opencv result
0i=0,real=32640.000000,imag=0.000000
0i=1,real=-128.000000,imag=643.499451
0i=2,real=-128.000000,imag=309.019348
0i=3,real=-128.000000,imag=191.565536
0i=4,real=-128.000000,imag=128.000000
0i=5,real=-128.000000,imag=85.526871
0i=6,real=-128.000000,imag=53.019333
0i=7,real=-128.000000,imag=25.460754
0i=8,real=-128.000000,imag=0.000000
0i=9,real=-128.000000,imag=-25.460754
0i=10,real=-128.000000,imag=-53.019333
0i=11,real=-128.000000,imag=-85.526871
0i=12,real=-128.000000,imag=-128.000000
0i=13,real=-128.000000,imag=-191.565536
0i=14,real=-128.000000,imag=-309.019348
0i=15,real=-128.000000,imag=-643.499451
0i=16,real=-2048.000000,imag=10295.991211
0i=17,real=0.000000,imag=0.000000
0i=18,real=0.000000,imag=0.000000
0i=19,real=0.000000,imag=0.000000
0i=20,real=0.000000,imag=0.000000
0i=21,real=0.000000,imag=0.000000
0i=22,real=0.000000,imag=0.000000
0i=23,real=0.000000,imag=0.000000
0i=24,real=0.000000,imag=0.000000
0i=25,real=0.000000,imag=0.000000
0i=26,real=0.000000,imag=0.000000
0i=27,real=0.000000,imag=0.000000
0i=28,real=0.000000,imag=0.000000
0i=29,real=0.000000,imag=0.000000
0i=30,real=0.000000,imag=0.000000
0i=31,real=0.000000,imag=0.000000
0i=32,real=-2048.000000,imag=4944.309570
0i=33,real=0.000000,imag=0.000000
0i=34,real=0.000000,imag=0.000000
0i=35,real=0.000000,imag=0.000000
0i=36,real=0.000000,imag=0.000000
0i=37,real=0.000000,imag=0.000000
0i=38,real=0.000000,imag=0.000000
0i=39,real=0.000000,imag=0.000000
0i=40,real=0.000000,imag=0.000000
0i=41,real=0.000000,imag=0.000000
0i=42,real=0.000000,imag=0.000000
0i=43,real=0.000000,imag=0.000000
0i=44,real=0.000000,imag=0.000000
0i=45,real=0.000000,imag=0.000000
0i=46,real=0.000000,imag=0.000000
0i=47,real=0.000000,imag=0.000000
0i=48,real=-2048.000000,imag=3065.048584
0i=49,real=0.000000,imag=0.000000
0i=50,real=0.000000,imag=0.000000
0i=51,real=0.000000,imag=0.000000
0i=52,real=0.000000,imag=0.000000
0i=53,real=0.000000,imag=0.000000
0i=54,real=0.000000,imag=0.000000
0i=55,real=0.000000,imag=0.000000
0i=56,real=0.000000,imag=0.000000
0i=57,real=0.000000,imag=0.000000
0i=58,real=0.000000,imag=0.000000
0i=59,real=0.000000,imag=0.000000
0i=60,real=0.000000,imag=0.000000
0i=61,real=0.000000,imag=0.000000
0i=62,real=0.000000,imag=0.000000
0i=63,real=0.000000,imag=0.000000
0i=64,real=-2048.000000,imag=2048.000000
0i=65,real=0.000000,imag=0.000000
0i=66,real=0.000000,imag=0.000000
0i=67,real=0.000000,imag=0.000000
0i=68,real=0.000000,imag=0.000000
0i=69,real=0.000000,imag=0.000000
0i=70,real=0.000000,imag=0.000000
0i=71,real=0.000000,imag=0.000000
0i=72,real=0.000000,imag=0.000000
0i=73,real=0.000000,imag=0.000000
0i=74,real=0.000000,imag=0.000000
0i=75,real=0.000000,imag=0.000000
0i=76,real=0.000000,imag=0.000000
0i=77,real=0.000000,imag=0.000000
0i=78,real=0.000000,imag=0.000000
0i=79,real=0.000000,imag=0.000000
0i=80,real=-2048.000000,imag=1368.429932
0i=81,real=0.000000,imag=0.000000
0i=82,real=0.000000,imag=0.000000
0i=83,real=0.000000,imag=0.000000
0i=84,real=0.000000,imag=0.000000
0i=85,real=0.000000,imag=0.000000
0i=86,real=0.000000,imag=0.000000
0i=87,real=0.000000,imag=0.000000
0i=88,real=0.000000,imag=0.000000
0i=89,real=0.000000,imag=0.000000
0i=90,real=0.000000,imag=0.000000
0i=91,real=0.000000,imag=0.000000
0i=92,real=0.000000,imag=0.000000
0i=93,real=0.000000,imag=0.000000
0i=94,real=0.000000,imag=0.000000
0i=95,real=0.000000,imag=0.000000
0i=96,real=-2048.000000,imag=848.309326
0i=97,real=0.000000,imag=0.000000
0i=98,real=0.000000,imag=0.000000
0i=99,real=0.000000,imag=0.000000
0i=100,real=0.000000,imag=0.000000
0i=101,real=0.000000,imag=0.000000
0i=102,real=0.000000,imag=0.000000
0i=103,real=0.000000,imag=0.000000
0i=104,real=0.000000,imag=0.000000
0i=105,real=0.000000,imag=0.000000
0i=106,real=0.000000,imag=0.000000
0i=107,real=0.000000,imag=0.000000
0i=108,real=0.000000,imag=0.000000
0i=109,real=0.000000,imag=0.000000
0i=110,real=0.000000,imag=0.000000
0i=111,real=0.000000,imag=0.000000
0i=112,real=-2048.000000,imag=407.372070
0i=113,real=0.000000,imag=0.000000
0i=114,real=0.000000,imag=0.000000
0i=115,real=0.000000,imag=0.000000
0i=116,real=0.000000,imag=0.000000
0i=117,real=0.000000,imag=0.000000
0i=118,real=0.000000,imag=0.000000
0i=119,real=0.000000,imag=0.000000
0i=120,real=0.000000,imag=0.000000
0i=121,real=0.000000,imag=0.000000
0i=122,real=0.000000,imag=0.000000
0i=123,real=0.000000,imag=0.000000
0i=124,real=0.000000,imag=0.000000
0i=125,real=0.000000,imag=0.000000
0i=126,real=0.000000,imag=0.000000
0i=127,real=0.000000,imag=0.000000
0i=128,real=-2048.000000,imag=0.000000
0i=129,real=0.000000,imag=0.000000
0i=130,real=0.000000,imag=0.000000
0i=131,real=0.000000,imag=0.000000
0i=132,real=0.000000,imag=0.000000
0i=133,real=0.000000,imag=0.000000
0i=134,real=0.000000,imag=0.000000
0i=135,real=0.000000,imag=0.000000
0i=136,real=0.000000,imag=0.000000
0i=137,real=0.000000,imag=0.000000
0i=138,real=0.000000,imag=0.000000
0i=139,real=0.000000,imag=0.000000
0i=140,real=0.000000,imag=0.000000
0i=141,real=0.000000,imag=0.000000
0i=142,real=0.000000,imag=0.000000
0i=143,real=0.000000,imag=0.000000
0i=144,real=-2048.000000,imag=-407.372070
0i=145,real=0.000000,imag=0.000000
0i=146,real=0.000000,imag=0.000000
0i=147,real=0.000000,imag=0.000000
0i=148,real=0.000000,imag=0.000000
0i=149,real=0.000000,imag=0.000000
0i=150,real=0.000000,imag=0.000000
0i=151,real=0.000000,imag=0.000000
0i=152,real=0.000000,imag=0.000000
0i=153,real=0.000000,imag=0.000000
0i=154,real=0.000000,imag=0.000000
0i=155,real=0.000000,imag=0.000000
0i=156,real=0.000000,imag=0.000000
0i=157,real=0.000000,imag=0.000000
0i=158,real=0.000000,imag=0.000000
0i=159,real=0.000000,imag=0.000000
0i=160,real=-2048.000000,imag=-848.309326
0i=161,real=0.000000,imag=0.000000
0i=162,real=0.000000,imag=0.000000
0i=163,real=0.000000,imag=0.000000
0i=164,real=0.000000,imag=0.000000
0i=165,real=0.000000,imag=0.000000
0i=166,real=0.000000,imag=0.000000
0i=167,real=0.000000,imag=0.000000
0i=168,real=0.000000,imag=0.000000
0i=169,real=0.000000,imag=0.000000
0i=170,real=0.000000,imag=0.000000
0i=171,real=0.000000,imag=0.000000
0i=172,real=0.000000,imag=0.000000
0i=173,real=0.000000,imag=0.000000
0i=174,real=0.000000,imag=0.000000
0i=175,real=0.000000,imag=0.000000
0i=176,real=-2048.000000,imag=-1368.429932
0i=177,real=0.000000,imag=0.000000
0i=178,real=0.000000,imag=0.000000
0i=179,real=0.000000,imag=0.000000
0i=180,real=0.000000,imag=0.000000
0i=181,real=0.000000,imag=0.000000
0i=182,real=0.000000,imag=0.000000
0i=183,real=0.000000,imag=0.000000
0i=184,real=0.000000,imag=0.000000
0i=185,real=0.000000,imag=0.000000
0i=186,real=0.000000,imag=0.000000
0i=187,real=0.000000,imag=0.000000
0i=188,real=0.000000,imag=0.000000
0i=189,real=0.000000,imag=0.000000
0i=190,real=0.000000,imag=0.000000
0i=191,real=0.000000,imag=0.000000
0i=192,real=-2048.000000,imag=-2048.000000
0i=193,real=0.000000,imag=0.000000
0i=194,real=0.000000,imag=0.000000
0i=195,real=0.000000,imag=0.000000
0i=196,real=0.000000,imag=0.000000
0i=197,real=0.000000,imag=0.000000
0i=198,real=0.000000,imag=0.000000
0i=199,real=0.000000,imag=0.000000
0i=200,real=0.000000,imag=0.000000
0i=201,real=0.000000,imag=0.000000
0i=202,real=0.000000,imag=0.000000
0i=203,real=0.000000,imag=0.000000
0i=204,real=0.000000,imag=0.000000
0i=205,real=0.000000,imag=0.000000
0i=206,real=0.000000,imag=0.000000
0i=207,real=0.000000,imag=0.000000
0i=208,real=-2048.000000,imag=-3065.048584
0i=209,real=0.000000,imag=0.000000
0i=210,real=0.000000,imag=0.000000
0i=211,real=0.000000,imag=0.000000
0i=212,real=0.000000,imag=0.000000
0i=213,real=0.000000,imag=0.000000
0i=214,real=0.000000,imag=0.000000
0i=215,real=0.000000,imag=0.000000
0i=216,real=0.000000,imag=0.000000
0i=217,real=0.000000,imag=0.000000
0i=218,real=0.000000,imag=0.000000
0i=219,real=0.000000,imag=0.000000
0i=220,real=0.000000,imag=0.000000
0i=221,real=0.000000,imag=0.000000
0i=222,real=0.000000,imag=0.000000
0i=223,real=0.000000,imag=0.000000
0i=224,real=-2048.000000,imag=-4944.309570
0i=225,real=0.000000,imag=0.000000
0i=226,real=0.000000,imag=0.000000
0i=227,real=0.000000,imag=0.000000
0i=228,real=0.000000,imag=0.000000
0i=229,real=0.000000,imag=0.000000
0i=230,real=0.000000,imag=0.000000
0i=231,real=0.000000,imag=0.000000
0i=232,real=0.000000,imag=0.000000
0i=233,real=0.000000,imag=0.000000
0i=234,real=0.000000,imag=0.000000
0i=235,real=0.000000,imag=0.000000
0i=236,real=0.000000,imag=0.000000
0i=237,real=0.000000,imag=0.000000
0i=238,real=0.000000,imag=0.000000
0i=239,real=0.000000,imag=0.000000
0i=240,real=-2048.000000,imag=-10295.991211
0i=241,real=0.000000,imag=0.000000
0i=242,real=0.000000,imag=0.000000
0i=243,real=0.000000,imag=0.000000
0i=244,real=0.000000,imag=0.000000
0i=245,real=0.000000,imag=0.000000
0i=246,real=0.000000,imag=0.000000
0i=247,real=0.000000,imag=0.000000
0i=248,real=0.000000,imag=0.000000
0i=249,real=0.000000,imag=0.000000
0i=250,real=0.000000,imag=0.000000
0i=251,real=0.000000,imag=0.000000
0i=252,real=0.000000,imag=0.000000
0i=253,real=0.000000,imag=0.000000
0i=254,real=0.000000,imag=0.000000
0i=255,real=0.000000,imag=0.000000
#endif
